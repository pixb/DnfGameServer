# Batch 02 - CHARACTER 模块迁移计划

## 📋 批次信息

| 属性 | 值 |
|------|-----|
| 批次号 | 02 |
| 批次名称 | CHARACTER |
| 优先级 | P1 |
| 创建时间 | 2026-02-12 |
| 预计消息数 | 5 |

## 📊 消息列表

### JProtobuf 消息

| 序号 | JProtobuf 名称 | 文件路径 | 模块 | 类型 | ModuleID | 字段数 |
|------|----------------|---------|------|------|----------|--------|
| 1 | REQ_CHARACTER_INFO | REQ_CHARACTER_INFO.java | CHARACTER | REQ | 10103 | 2 |
| 2 | REQ_CHARACTER_STAT_INFO | REQ_CHARACTER_STAT_INFO.java | CHARACTER | REQ | 18100 | 30 |
| 3 | REQ_CHARACTER_FRAME_TAB_LIST | REQ_CHARACTER_FRAME_TAB_LIST.java | CHARACTER | REQ | 14094 | 0 |
| 4 | REQ_CHARACTER_GUILD_REDPACKET_INFO | REQ_CHARACTER_GUILD_REDPACKET_INFO.java | CHARACTER | REQ | 32501 | 0 |
| 5 | REQ_CHARACTER_SLOT_CHANGE | REQ_CHARACTER_SLOT_CHANGE.java | CHARACTER | REQ | 13556 | 0 |

### 标准 Protobuf 消息

| 序号 | 标准 Protobuf 名称 | 文件路径 | 包名 | 字段数 |
|------|------------------|---------|------|--------|
| 1 | CharacterInfoRequest | character.proto | dnf.v1 | 3 |
| 2 | CharacterStatInfoRequest | character.proto | dnf.v1 | 30 |
| 3 | CharacterFrameTabListRequest | character.proto | dnf.v1 | 0 |
| 4 | CharacterGuildRedpacketInfoRequest | character.proto | dnf.v1 | 0 |
| 5 | CharacterSlotChangeRequest | character.proto | dnf.v1 | 0 |

## 🔄 映射关系

| JProtobuf | 标准 Protobuf | 映射类型 | 置信度 |
|-----------|--------------|----------|--------|
| REQ_CHARACTER_INFO | CharacterInfoRequest | direct_mapping | 1.0 |
| REQ_CHARACTER_STAT_INFO | CharacterStatInfoRequest | direct_mapping | 1.0 |
| REQ_CHARACTER_FRAME_TAB_LIST | CharacterFrameTabListRequest | direct_mapping | 1.0 |
| REQ_CHARACTER_GUILD_REDPACKET_INFO | CharacterGuildRedpacketInfoRequest | direct_mapping | 1.0 |
| REQ_CHARACTER_SLOT_CHANGE | CharacterSlotChangeRequest | direct_mapping | 1.0 |

## 📝 注意事项

1. **REQ_CHARACTER_INFO**：
   - 包含 authkey 字段（String）
   - 包含 option 字段（Integer）
   - 包含 charlist 字段（List<PT_CHARACTER_GUID>）
   - 需要定义 CharacterGuid 消息类型

2. **REQ_CHARACTER_STAT_INFO**：
   - 包含 30 个属性字段
   - 所有字段都是 Integer 类型
   - 包括属性值、抗性值、战斗属性等

3. **空消息**：
   - REQ_CHARACTER_FRAME_TAB_LIST
   - REQ_CHARACTER_GUILD_REDPACKET_INFO
   - REQ_CHARACTER_SLOT_CHANGE
   - 这些消息没有字段，仅用于触发服务端操作

## 🎯 迁移目标

1. 创建 `character.proto` 文件
2. 定义 5 个 Request 消息
3. 定义 CharacterGuid 消息类型（如果需要）
4. 生成 Java 代码
5. 更新映射关系

## 📅 执行计划

- [ ] 创建 proto 文件
- [ ] 定义消息类型
- [ ] 生成 Java 代码
- [ ] 验证编译
- [ ] 更新映射关系
- [ ] 记录迁移结果
