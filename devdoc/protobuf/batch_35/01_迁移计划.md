# æ‰¹æ¬¡35: ä¸–ç•ŒBossç³»ç»Ÿè¿ç§»è®¡åˆ’

## ğŸ“‹ æ‰¹æ¬¡æ¦‚è¿°

**æ‰¹æ¬¡åç§°**: batch_35
**æ‰¹æ¬¡åºå·**: 35
**æ¨¡å—åç§°**: ä¸–ç•ŒBossç³»ç»Ÿ
**ä¼˜å…ˆçº§**: 35

## ğŸ¯ è¿ç§»ç›®æ ‡

å°†ä¸–ç•ŒBossç³»ç»Ÿç›¸å…³çš„JProtobufæ¶ˆæ¯è¿ç§»åˆ°æ ‡å‡†Protobufï¼ŒåŒ…æ‹¬ä¸–ç•ŒBossä¿¡æ¯æŸ¥è¯¢ã€ä¼¤å®³ä¸ŠæŠ¥ã€æ’è¡Œæ¦œç­‰åŠŸèƒ½ã€‚

## ğŸ“Š è¿ç§»èŒƒå›´

### æ¶ˆæ¯åˆ—è¡¨

| ModuleID | CMD | æ¶ˆæ¯ç±»å‹ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
| :--- | :--- | :--- | :--- | :--- |
| 11038 | 0 | REQ_WORLD_BOSS_INFO | ä¸–ç•ŒBossä¿¡æ¯è¯·æ±‚ | å¾…è¿ç§» |
| 11038 | 1 | RES_WORLD_BOSS_INFO | ä¸–ç•ŒBossä¿¡æ¯å“åº” | å¾…è¿ç§» |
| 11037 | 0 | REQ_WORLD_BOSS_DAMAGE | ä¸–ç•ŒBossä¼¤å®³ä¸ŠæŠ¥è¯·æ±‚ | å¾…è¿ç§» |
| 11037 | 1 | RES_WORLD_BOSS_DAMAGE | ä¸–ç•ŒBossä¼¤å®³ä¸ŠæŠ¥å“åº” | å¾…è¿ç§» |
| 11511 | 0 | REQ_WORLDBOSS_RANKING | ä¸–ç•ŒBossæ’è¡Œæ¦œè¯·æ±‚ | å¾…è¿ç§» |
| 11511 | 1 | RES_WORLDBOSS_RANKING | ä¸–ç•ŒBossæ’è¡Œæ¦œå“åº” | å¾…è¿ç§» |
| 10164 | 0 | REQ_TLOG_WORLDBOSS_ATTACK | ä¸–ç•ŒBossæ”»å‡»æ—¥å¿—è¯·æ±‚ | å¾…è¿ç§» |

### æ•°æ®ç»“æ„

| æ•°æ®ç»“æ„ | æè¿° | å­—æ®µ |
| :--- | :--- | :--- |
| PT_WORLDBOSSINFO | ä¸–ç•ŒBossä¿¡æ¯ | name, score, count |

## ğŸ“ è¯¦ç»†åˆ†æ

### 1. ä¸–ç•ŒBossä¿¡æ¯æŸ¥è¯¢ (ModuleID: 11038)

#### REQ_WORLD_BOSS_INFO
```java
@Protobuf(order = 1)
public Integer index;  // Bossç´¢å¼•
```

#### RES_WORLD_BOSS_INFO
```java
@Protobuf(order = 1)
public Integer error;  // é”™è¯¯ç 

@Protobuf(order = 2)
public Long hp;  // Bossè¡€é‡

@Protobuf(order = 3)
public Integer count;  // æ¬¡æ•°
```

### 2. ä¸–ç•ŒBossä¼¤å®³ä¸ŠæŠ¥ (ModuleID: 11037)

#### REQ_WORLD_BOSS_DAMAGE
```java
@Protobuf(order = 1)
public byte[] damagehistory;  // ä¼¤å®³å†å²

@Protobuf(order = 2)
public Long damage;  // ä¼¤å®³å€¼

@Protobuf(order = 3)
public Long dungeonguid;  // å‰¯æœ¬GUID
```

#### RES_WORLD_BOSS_DAMAGE
```java
@Protobuf(order = 1)
public Integer error;  // é”™è¯¯ç 

@Protobuf(order = 2)
public Long hp;  // Bossè¡€é‡
```

### 3. ä¸–ç•ŒBossæ’è¡Œæ¦œ (ModuleID: 11511)

#### REQ_WORLDBOSS_RANKING
```java
@Protobuf(order = 1)
public Long score;  // åˆ†æ•°

@Protobuf(order = 2)
public Integer type;  // ç±»å‹

@Protobuf(order = 3)
public Integer rankMin;  // æœ€å°æ’å

@Protobuf(order = 4)
public Integer rankMax;  // æœ€å¤§æ’å
```

#### RES_WORLDBOSS_RANKING
```java
@Protobuf(order = 1)
public Integer error;  // é”™è¯¯ç 

@Protobuf(order = 2)
public Integer rank;  // æ’å

@Protobuf(order = 3)
public List<PT_WORLDBOSSINFO> ranking;  // æ’è¡Œæ¦œåˆ—è¡¨
```

### 4. ä¸–ç•ŒBossæ”»å‡»æ—¥å¿— (ModuleID: 10164)

#### REQ_TLOG_WORLDBOSS_ATTACK
```java
@Protobuf(order = 1)
public Long dungeonguid;  // å‰¯æœ¬GUID

@Protobuf(order = 2)
public Long partyguid;  // é˜Ÿä¼GUID

@Protobuf(order = 3)
public Long atkthresholdvalue;  // æ”»å‡»é˜ˆå€¼

@Protobuf(order = 4)
public Long bosspattern5SInjuryavg;  // Bossæ¨¡å¼5ç§’å¹³å‡ä¼¤å®³

@Protobuf(order = 5)
public Long bossPattern5SInjurymax;  // Bossæ¨¡å¼5ç§’æœ€å¤§ä¼¤å®³

@Protobuf(order = 6)
public Long bossPattern5SInjurymin;  // Bossæ¨¡å¼5ç§’æœ€å°ä¼¤å®³

@Protobuf(order = 7)
public String bossPatternInjurySequence;  // Bossæ¨¡å¼ä¼¤å®³åºåˆ—

@Protobuf(order = 8)
public String atkbuffidlist;  // æ”»å‡»Buff IDåˆ—è¡¨

@Protobuf(order = 9)
public String atkbuffcoefficientlist;  // æ”»å‡»Buffç³»æ•°åˆ—è¡¨
```

### 5. æ•°æ®ç»“æ„ PT_WORLDBOSSINFO
```java
@Protobuf(order = 1)
public String name;  // ç©å®¶åç§°

@Protobuf(order = 2)
public Long score;  // åˆ†æ•°

@Protobuf(order = 3)
public Integer count;  // æ¬¡æ•°
```

## ğŸ”§ è¿ç§»æ­¥éª¤

### æ­¥éª¤1: åˆ›å»ºProtoæ–‡ä»¶
åˆ›å»º `worldboss.proto` æ–‡ä»¶ï¼Œå®šä¹‰æ‰€æœ‰æ¶ˆæ¯ç±»å‹å’Œæ•°æ®ç»“æ„

### æ­¥éª¤2: ç”Ÿæˆä»£ç 
ä½¿ç”¨ buf å·¥å…·ç”Ÿæˆ Java å’Œ Go ä»£ç 

### æ­¥éª¤3: ç¼–å†™æµ‹è¯•
åˆ›å»º Go å•å…ƒæµ‹è¯•ï¼ŒéªŒè¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–åŠŸèƒ½

### æ­¥éª¤4: éªŒè¯ç¼–è¯‘
éªŒè¯ Java ä»£ç ç¼–è¯‘æˆåŠŸ

### æ­¥éª¤5: æ›´æ–°è¿½è¸ªç³»ç»Ÿ
æ›´æ–°è¿ç§»è¿½è¸ªç³»ç»Ÿæ•°æ®åº“

## ğŸ“ æ–‡ä»¶ç»“æ„

```
proto/dnf/v1/
â”œâ”€â”€ worldboss.proto          # ä¸–ç•ŒBossç³»ç»Ÿå®šä¹‰
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ModuleIDå¤šæ ·æ€§**: ä¸–ç•ŒBossç³»ç»Ÿä½¿ç”¨å¤šä¸ªä¸åŒçš„ ModuleIDï¼ˆ11038, 11037, 11511, 10164ï¼‰
2. **æ•°æ®ç±»å‹**: åŒ…å«å¤šç§æ•°æ®ç±»å‹ï¼ˆint32, int64, bytes, stringï¼‰
3. **åˆ—è¡¨å­—æ®µ**: æ’è¡Œæ¦œåŒ…å« PT_WORLDBOSSINFO åˆ—è¡¨
4. **æ”»å‡»æ—¥å¿—**: æ”»å‡»æ—¥å¿—åŒ…å«è¯¦ç»†çš„ä¼¤å®³ç»Ÿè®¡ä¿¡æ¯ï¼Œç”¨äºæ•°æ®åˆ†æ

## ğŸ¯ é¢„æœŸç»“æœ

- åˆ›å»º 1 ä¸ª Proto æ–‡ä»¶
- ç”Ÿæˆ 14 ä¸ª Java ä»£ç æ–‡ä»¶ï¼ˆ7ä¸ªæ¶ˆæ¯ç±»å‹ Ã— 2ï¼‰
- ç”Ÿæˆ 1 ä¸ª Go ä»£ç æ–‡ä»¶
- ç¼–å†™ 4 ä¸ª Go æµ‹è¯•ç”¨ä¾‹
- æ‰€æœ‰æµ‹è¯•é€šè¿‡
- Java ç¼–è¯‘æˆåŠŸ
