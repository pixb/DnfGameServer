# 批次48迁移计划

## 迁移目标
- 将剩余的40个JProtobuf注解的Java类转换为标准Protobuf .proto文件
- 处理系统消息、团队系统、副本系统、社交系统等相关文件
- 确保生成的Proto定义与现有系统兼容
- 生成Java和Go代码并验证编译通过
- 完成整个JProtobuf到标准Protobuf的迁移过程

## 迁移文件列表

### 系统消息（5个文件）
- RES_SERVER_RESPONSE_PACKET.java
- RES_SECEDE_GUILD.java
- RES_SAVE_WEAK_SERVER_SIMPLE_DATA.java
- RES_SEND_GUILD_REDPACKET.java
- RES_SEND_STORAGE.java

### 团队系统（5个文件）
- RES_SELECT_OTHER_DUNGEON_AT_MULTI.java
- RES_SENDING_INVITE_FRIEND_LIST.java
- RES_REPLY_PROPOSAL.java
- RES_SET_PVP_CONTROL_MODE.java
- RES_RETURN_TO_TOWN_AT_MULTI_PLAY.java

### 副本系统（5个文件）
- RES_START_LOCKSTEP_ROOM.java
- RES_START_DUNGEON.java
- RES_START_DUNGEON_COMPLETE.java
- RES_SYNC_DUNGEON_START_TIME.java
- RES_UPDATE_DUNGEONCLEAR_CONDITION_GET_ITEM.java

### 社交系统（5个文件）
- RES_REQUEST_FRIEND_INVITE.java
- RES_REWARD_QUEST.java
- RES_SET_APPENDAGE_MANNEQUIN.java
- RES_SET_NAME_MANNEQUIN.java
- RES_TSS_DATA.java

### 用户系统（5个文件）
- RES_TUTORIAL_SAVE.java
- RES_USE_COIN.java
- RES_TOWER_INFO.java
- RES_START_BOARD_GAME.java
- RES_TARGET_USER_DETAIL_INFO.java

### 系统功能（5个文件）
- RES_START_GAME.java
- RES_STANDBY.java
- RES_STORAGE_STEP.java
- RES_VERIFICATION_SIMPLE.java
- RES_WELFARE_FIND_REWARD_INFO.java

### 战斗系统（5个文件）
- RES_WORLD_RAID_RANKING.java
- RES_WORLD_BOSS_DAMAGE.java
- RES_WORLDBOSS_RANKING.java
- RES_WORLD_BOSS_INFO.java
- RES_WARDROBE_SET_MANNEQUIN.java

### 其他系统（5个文件）
- RES_WARDROBE_SET_SLOT.java
- RES_VERIFICATION_EVENT.java
- RES_WELFARE_FIND_REWARD_GET.java
- RES_VERIFICATION_START.java
- RES_STORAGE_EXTEND.java

## 迁移步骤
1. 分析每个Java文件的结构和依赖关系
2. 创建对应的Proto定义文件，确保字段类型和顺序正确
3. 解决命名冲突和依赖问题
4. 使用buf生成Java和Go代码
5. 编写Go单元测试验证序列化/反序列化
6. 验证Java编译通过
7. 更新迁移结果文档
8. 执行最终的跨语言通信测试

## 预期成果
- 生成40个文件的Proto定义
- 成功生成Java和Go代码
- 所有测试通过
- 编译无错误
- 完成整个JProtobuf到标准Protobuf的迁移

## 注意事项
- 保持字段顺序与原JProtobuf定义一致
- 处理嵌套类型和重复字段
- 确保与现有Proto文件的兼容性
- 验证生成代码的正确性
- 执行完整的跨语言通信测试
- 确保所有系统的消息类型都能正确序列化和反序列化
