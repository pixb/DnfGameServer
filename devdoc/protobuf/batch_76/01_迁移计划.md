# 第76批迁移计划

## 批次信息
- **批次编号**: 76
- **迁移时间**: 2026-02-10
- **迁移文件数量**: 40
- **负责人员**: 系统自动

## 迁移目标
将第76批JProtobuf消息类型迁移到标准Protobuf格式，确保所有消息定义完整、正确，并生成相应的代码。

## 迁移步骤
1. **分析JProtobuf文件结构**
   - 识别所有消息类型的字段和类型
   - 确定消息之间的依赖关系

2. **添加缺失的消息定义**
   - 在 `game_systems.proto` 文件中添加缺失的消息类型
   - 确保所有字段定义正确

3. **生成代码**
   - 使用 `buf generate` 命令生成Java和Go代码
   - 验证生成的代码结构正确

4. **验证编译**
   - 运行 `mvn clean compile` 验证Java代码编译通过
   - 运行Go测试验证Go代码编译通过

5. **编写测试**
   - 创建 `batch76_test.go` 文件
   - 编写针对所有消息类型的测试用例
   - 验证测试通过

6. **更新数据库状态**
   - 将批次状态更新为 `completed`
   - 记录迁移的文件数量

7. **创建迁移报告**
   - 生成迁移计划和结果报告
   - 记录迁移过程中的问题和解决方案

## 迁移文件列表
1. REQ_ADVENTUREBOOK_SPECIAL_REWARD
2. RES_ATTACK_SQUAD_LIST
3. REQ_RAID_SYNC_NODE_VARIABLE
4. RES_GUILD_MATERIAL_PRODUCTION
5. REQ_CREATURE_ERRAND_CANCEL
6. RES_GET_SERIA_BUFF
7. REQ_CHANGE_ROLE_GVOICE_MEMBER
8. RES_EQUIPMENT_RARIFY
9. RES_ALARM_GUILD_JOIN
10. REQ_BATTLELEAGUE_PVP_RECORD
11. PT_HISTORICSITE_ALTAR_ROOM_INFO
12. RES_CHAT_CHANNEL_LIST
13. REQ_RELEASE_BOOKMARK
14. FRAME_DATA$NOTI
15. REQ_CANCEL_ATTACK_SQUAD_JOIN
16. RESULT_REASON$Types$RES
17. INPUT_REQ
18. RES_RELEASE_BOOKMARK
19. RES_WATING_LIST_INFO_SYNC
20. RES_CREATURE_ERRAND_LIST
21. PT_GUILD_HISTORY_VALUE
22. RES_MINIGAME_77VALENTINE_REWARD
23. PT_CONSUME_ITEMS
24. REQ_AUCTION_REGISTER_COMPLETE
25. ENUM_GUILD_STRUCTURE_STATUS
26. RES_HISTORICSITE_REGISTER_ENTER
27. RES_CERA_GACHA_MILEAGE
28. PT_EQUIP_PUT_ON_OFF
29. RES_GUILD_DONATION_REQUEST_HELP_CANCEL
30. RES_MINIGAME_BREAKING_START
31. PT_MINIGAME_SPECIAL_CLASS_INFO
32. PT_EXP_DETAILINFO
33. NOTIFY_PARTY_UPDATE_MEMBER
34. PT_REWARD_ITEM
35. RES_BOARD_GAME_SYNC
36. REQ_AUCTION_CATEGORY_ITEM_LIST
37. REQ_COLLECTION_REWARD
38. REQ_ENTER_TO_TOWN
39. PT_CHARACTER_RAID_ROUND_INFO
40. PT_CHAT

## 预期结果
- 所有29个缺失消息类型成功迁移到标准Protobuf（11个已存在）
- Java代码编译通过
- Go测试代码编写完成
- 数据库状态更新为已完成
- 生成完整的迁移报告