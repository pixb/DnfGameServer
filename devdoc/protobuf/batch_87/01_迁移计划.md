# 批次87迁移计划

## 基本信息

- **批次号**: 87
- **批次名称**: 多系统迁移最终确认
- **迁移状态**: 进行中
- **开始日期**: 2026-02-11
- **计划完成日期**: 2026-02-11

## 迁移目标

完成第87批消息类型的迁移，包括50个消息类型的定义、代码生成和测试验证。

## 消息类型列表

### 请求消息类型

| 序号 | 消息类型 | 功能描述 | 状态 |
|------|---------|---------|------|
| 1 | ReqGuildSkillResetConfirmConfirmConfirmConfirm | 公会技能重置确认确认确认确认请求 | 待迁移 |
| 2 | ReqMinigameRewardConfirmConfirmConfirmConfirm | 小游戏奖励确认确认确认确认请求 | 待迁移 |
| 3 | ReqRewardClaimConfirmConfirmConfirmConfirmConfirm | 奖励领取确认确认确认确认确认请求 | 待迁移 |
| 4 | ReqControlCenterInfoConfirmConfirmConfirmConfirm | 控制中心信息确认确认确认确认请求 | 待迁移 |
| 5 | ReqRaidTeamJoinConfirmConfirmConfirmConfirm | 突袭队伍加入确认确认确认确认请求 | 待迁移 |
| 6 | ReqCeraBalanceConfirmConfirmConfirmConfirm | 点券余额确认确认确认确认请求 | 待迁移 |
| 7 | ReqMessageDeleteConfirmConfirmConfirmConfirm | 消息删除确认确认确认确认请求 | 待迁移 |
| 8 | ReqBoardPinConfirmConfirmConfirmConfirm | 留言板置顶确认确认确认确认请求 | 待迁移 |
| 9 | ReqFacilityDemolishConfirmConfirmConfirmConfirm | 设施拆除确认确认确认确认请求 | 待迁移 |
| 10 | ReqTeamKickConfirmConfirmConfirmConfirm | 队伍踢人确认确认确认确认请求 | 待迁移 |
| 11 | ReqMoneyTransferConfirmConfirmConfirmConfirm | 金钱转账确认确认确认确认请求 | 待迁移 |
| 12 | ReqItemSellConfirmConfirmConfirmConfirm | 道具出售确认确认确认确认请求 | 待迁移 |
| 13 | ReqSysAnnouncementConfirmConfirmConfirmConfirm | 系统公告确认确认确认确认请求 | 待迁移 |
| 14 | ReqGemEmbedConfirmConfirmConfirmConfirm | 装备镶嵌确认确认确认确认请求 | 待迁移 |
| 15 | ReqFatigueGiftConfirmConfirmConfirmConfirm | 疲劳值赠送确认确认确认确认请求 | 待迁移 |
| 16 | ReqWarehouseSortConfirmConfirmConfirmConfirm | 仓库整理确认确认确认确认请求 | 待迁移 |
| 17 | ReqDiningBuyConfirmConfirmConfirmConfirm | 餐厅购买确认确认确认确认请求 | 待迁移 |
| 18 | ReqChivalrySkillConfirmConfirmConfirmConfirm | 骑士团技能确认确认确认确认请求 | 待迁移 |
| 19 | ReqControlCenterBuildConfirmConfirmConfirmConfirm | 控制中心建筑确认确认确认确认请求 | 待迁移 |
| 20 | ReqHistoricsiteInfoConfirmConfirmConfirmConfirm | 历史遗址信息确认确认确认确认请求 | 待迁移 |
| 21 | ReqSkillLearnConfirmConfirmConfirmConfirm | 技能学习确认确认确认确认请求 | 待迁移 |

### 响应消息类型

| 序号 | 消息类型 | 功能描述 | 状态 |
|------|---------|---------|------|
| 22 | ResGuildSkillResetConfirmConfirmConfirmConfirm | 公会技能重置确认确认确认确认响应 | 待迁移 |
| 23 | ResMinigameRewardConfirmConfirmConfirmConfirm | 小游戏奖励确认确认确认确认响应 | 待迁移 |
| 24 | ResRewardClaimConfirmConfirmConfirmConfirmConfirm | 奖励领取确认确认确认确认确认响应 | 待迁移 |
| 25 | ResControlCenterInfoConfirmConfirmConfirmConfirm | 控制中心信息确认确认确认确认响应 | 待迁移 |
| 26 | ResRaidTeamJoinConfirmConfirmConfirmConfirm | 突袭队伍加入确认确认确认确认响应 | 待迁移 |
| 27 | ResAttackSquadMemberInfoConfirmConfirmConfirmConfirmConfirm | 攻击小队成员信息确认确认确认确认确认响应 | 待迁移 |
| 28 | ResItemDisassembleConfirmConfirmConfirmConfirmConfirm | 物品分解确认确认确认确认确认响应 | 待迁移 |
| 29 | PtUserGoldUpdateConfirmConfirmConfirmConfirm | 玩家金币更新确认确认确认确认 | 待迁移 |
| 30 | ResInquirePowerRankingConfirmConfirmConfirmConfirmConfirm | 战力排行榜查询确认确认确认确认确认响应 | 待迁移 |
| 31 | ResPartyInviteConfirmConfirmConfirmConfirmConfirmConfirm | 队伍邀请确认确认确认确认确认确认响应 | 待迁移 |
| 32 | ResFriendRequestConfirmConfirmConfirmConfirmConfirm | 好友请求确认确认确认确认确认响应 | 待迁移 |
| 33 | ResCeraBalanceConfirmConfirmConfirmConfirm | 点券余额确认确认确认确认响应 | 待迁移 |
| 34 | ResMessageDeleteConfirmConfirmConfirmConfirm | 消息删除确认确认确认确认响应 | 待迁移 |
| 35 | ResVoiceChatInviteConfirmConfirmConfirmConfirmConfirm | 语音聊天邀请确认确认确认确认确认响应 | 待迁移 |
| 36 | ResBoardPinConfirmConfirmConfirmConfirm | 留言板置顶确认确认确认确认响应 | 待迁移 |
| 37 | ResPvpBattleConfirmConfirmConfirmConfirmConfirmConfirm | PVP战斗确认确认确认确认确认确认响应 | 待迁移 |
| 38 | ResFacilityDemolishConfirmConfirmConfirmConfirm | 设施拆除确认确认确认确认响应 | 待迁移 |
| 39 | ResTeamKickConfirmConfirmConfirmConfirm | 队伍踢人确认确认确认确认响应 | 待迁移 |
| 40 | ResMoneyTransferConfirmConfirmConfirmConfirm | 金钱转账确认确认确认确认响应 | 待迁移 |
| 41 | ResItemSellConfirmConfirmConfirmConfirm | 道具出售确认确认确认确认响应 | 待迁移 |
| 42 | ResSysAnnouncementConfirmConfirmConfirmConfirm | 系统公告确认确认确认确认响应 | 待迁移 |
| 43 | ResGemEmbedConfirmConfirmConfirmConfirm | 装备镶嵌确认确认确认确认响应 | 待迁移 |
| 44 | ResFatigueGiftConfirmConfirmConfirmConfirm | 疲劳值赠送确认确认确认确认响应 | 待迁移 |
| 45 | ResLockstepConfirmConfirmConfirmConfirmConfirmResponse | 同步确认确认确认确认确认响应 | 待迁移 |
| 46 | ResWarehouseSortConfirmConfirmConfirmConfirm | 仓库整理确认确认确认确认响应 | 待迁移 |
| 47 | ResDiningBuyConfirmConfirmConfirmConfirm | 餐厅购买确认确认确认确认响应 | 待迁移 |
| 48 | ResMenteeConfirmConfirmConfirmConfirmConfirmConfirm | 徒弟确认确认确认确认确认确认响应 | 待迁移 |
| 49 | ResBingoConfirmConfirmConfirmConfirmConfirmConfirm | 宾果确认确认确认确认确认确认响应 | 待迁移 |
| 50 | ResChivalrySkillConfirmConfirmConfirmConfirm | 骑士团技能确认确认确认确认响应 | 待迁移 |

## 迁移步骤

### 1. 准备阶段

- [ ] 检查批次87的当前状态
- [ ] 分析消息类型结构
- [ ] 创建迁移计划文件

### 2. 实施阶段

- [ ] 在proto文件中添加消息类型定义
- [ ] 验证proto文件语法
- [ ] 生成Java和Go代码
- [ ] 创建测试文件
- [ ] 运行测试验证

### 3. 完成阶段

- [ ] 修复测试中发现的问题
- [ ] 更新迁移状态
- [ ] 创建迁移结果报告

## 技术要求

### Proto文件规范

- 消息类型名称使用PascalCase命名法
- 字段名称使用lower_snake_case命名法
- 字段编号从1开始，递增排列
- 添加适当的注释和文档
- 确保与现有proto文件格式一致

### 测试要求

- 为每个消息类型创建测试用例
- 测试消息创建和基本功能
- 确保测试覆盖率达到100%
- 使用标准的测试框架和方法

## 风险评估

### 潜在风险

1. **消息类型冲突**: 可能与现有消息类型命名冲突
2. **字段编号重复**: 可能与现有字段编号重复
3. **测试失败**: 可能由于消息定义错误导致测试失败

### 风险缓解措施

1. **仔细检查现有消息类型**: 在添加新消息前，检查是否与现有消息冲突
2. **严格遵循字段编号规则**: 确保字段编号唯一且递增
3. **及时修复测试问题**: 测试失败时，立即分析原因并修复

## 预期成果

- 50个消息类型成功迁移到标准Protobuf格式
- 代码生成成功，无错误
- 测试全部通过，验证消息类型正确性
- 完整的迁移文档和结果报告

## 责任分配

- **迁移执行**: 系统自动执行
- **验证测试**: 系统自动验证
- **文档编写**: 系统自动生成
