syntax = "proto3";

package dnf.v1;

option go_package = "github.com/pixb/DnfGameServer/dnf-go-client/gen/dnf/v1;dnfv1";

import "dnf/v1/common.proto";
import "dnf/v1/option_types.proto";

// 副本系统消息类型
message RES_START_LOCKSTEP_ROOM {
  int32 error = 1;
  int32 roomId = 2;
  int32 maxPlayers = 3;
}

message RES_START_DUNGEON {
  int32 error = 1;
  int32 dungeonId = 2;
  string dungeonName = 3;
  int32 recommendedLevel = 4;
}

message RES_START_DUNGEON_COMPLETE {
  int32 error = 1;
  int32 dungeonId = 2;
  bool success = 3;
  repeated RewardInfo rewards = 4;
}

message RES_SYNC_DUNGEON_START_TIME {
  int32 error = 1;
  int64 startTime = 2;
  int32 duration = 3;
}

message RES_UPDATE_DUNGEONCLEAR_CONDITION_GET_ITEM {
  int32 error = 1;
  int32 itemId = 2;
  int32 count = 3;
  bool completed = 4;
}

message RewardInfo {
  int32 itemId = 1;
  string itemName = 2;
  int32 count = 3;
  int32 rarity = 4;
}
