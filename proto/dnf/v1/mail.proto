syntax = "proto3";

package dnf.v1;

// Go代码生成选项
option go_package = "github.com/pixb/DnfGameServer/dnf-go-client/gen/dnf/v1;dnfv1";

// Java代码生成选项（重要）
option java_multiple_files = true;  // 为每个消息生成独立的Java文件
option java_package = "com.dnfm.mina.protobuf.generated";  // 指定Java包名
option java_outer_classname = "MailProto";  // 指定外层类名

// 邮件列表请求
message MailListRequest {
  int32 page = 1;        // 页码
  int32 type = 2;         // 邮件类型
}

// 邮件信息
message MailInfo {
  uint64 guid = 1;       // 邮件GUID
  string title = 2;       // 邮件标题
  string content = 3;     // 邮件内容
  int32 type = 4;         // 邮件类型
  int32 status = 5;       // 邮件状态
  int64 send_time = 6;    // 发送时间
  int64 expire_time = 7;   // 过期时间
  bool has_attachment = 8;  // 是否有附件
  bool is_read = 9;       // 是否已读
}

// 邮件列表响应
message MailListResponse {
  int32 error = 1;              // 错误码
  repeated MailInfo mails = 2;    // 邮件列表
  int32 total_count = 3;         // 总邮件数
  int32 page = 4;               // 当前页码
}

// 选中的物品
message SelectedItem {
  uint64 guid = 1;       // 物品GUID
  int32 count = 2;        // 数量
}

// 邮寄包裹
message PostPackage {
  uint64 guid = 1;       // 包裹GUID
  int32 count = 2;        // 数量
}

// 邮件获取请求
message MailGetRequest {
  int32 type = 1;              // 邮件类型
  uint64 guid = 2;             // 邮件GUID
  repeated SelectedItem selected_items = 3;  // 选中的物品
  repeated PostPackage selected_packages = 4;  // 选中的包裹
}

// 邮件获取响应
message MailGetResponse {
  int32 error = 1;              // 错误码
  MailInfo mail = 2;            // 邮件信息
  repeated SelectedItem items = 3;   // 物品列表
  repeated PostPackage packages = 4;  // 包裹列表
}

// 邮件读取请求
message MailReadRequest {
  uint64 guid = 1;       // 邮件GUID
  int32 type = 2;         // 邮件类型
}

// 邮件读取响应
message MailReadResponse {
  int32 error = 1;        // 错误码
  uint64 guid = 2;        // 邮件GUID
  bool success = 3;        // 是否成功
}

// 邮件删除请求
message MailDeleteRequest {
  uint64 guid = 1;       // 邮件GUID
  int32 type = 2;         // 邮件类型
}

// 邮件删除响应
message MailDeleteResponse {
  int32 error = 1;        // 错误码
  uint64 guid = 2;        // 邮件GUID
  bool success = 3;        // 是否成功
}

// 邮件物品全部获取请求
message MailItemAllGetRequest {
  int32 type = 1;         // 邮件类型
}

// 邮件物品全部获取响应
message MailItemAllGetResponse {
  int32 error = 1;              // 错误码
  repeated SelectedItem items = 2;   // 物品列表
  repeated PostPackage packages = 3;  // 包裹列表
  int32 total_count = 4;         // 总数量
}

// 邮件全部删除请求
message MailAllDeleteRequest {
  int32 type = 1;         // 邮件类型
}

// 邮件全部删除响应
message MailAllDeleteResponse {
  int32 error = 1;        // 错误码
  int32 type = 2;         // 邮件类型
  int32 deleted_count = 3;  // 删除数量
  bool success = 4;        // 是否成功
}
